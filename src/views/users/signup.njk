{% extends "../layouts/main.njk" %}

{% block navigation %}
  <nav class="navbar navbar-dark navbar-expand-lg fixed-top bg-white portfolio-navbar gradient" style="padding-bottom: 0px;padding-top: 0px;padding-right: 16px;">
    <div class="container">
      <a class="navbar-brand logo" href="/">Imagenius</a >
      <button data-toggle="collapse" class="navbar-toggler" data-target="#navbarNav">
        <span class="sr-only">Toggle navigation</span >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="nav navbar-nav ml-auto">
          <li class="nav-item" role="presentation">
            <a class="nav-link" href="/users/signin">Sign In</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
{% endblock navigation %}

{% block main %}
  <main class="page hire-me-page">
    <section class="portfolio-block hire-me" style="padding-top: 30px;">
      <div class="container">
        <div class="heading" style="margin-bottom: 40px;">
          <h2>SIGN UP</h2>
        </div>
        <form action="/users/signup" method="POST">
          <div class="form-group">
            <label for="inputFullname">Full name</label ><input id="inputFullname" name="fullname" class="form-control" type="text"/>
          </div>
          <div class="form-group">
            <label for="inputUsername">Username</label ><input id="inputUsername" name="username" class="form-control" type="text"/>
          </div>
          <div class="form-group">
            <label for="inputEmail">Email</label ><input id="inputEmail" name="email" class="form-control" type="email"/>
          </div>
          <div class="form-group">
            <label for="inputPassword">Password</label ><input id="inputPassword" name="password" class="form-control" type="password"/>
          </div>
          <div class="form-group">
            <label for="inputConfirmationPassword">Confirm password</label ><input id="inputConfirmationPassword" name="confirmationPassword" class="form-control" type="password"/>
          </div>
          <div class="d-flex d-sm-flex d-md-flex justify-content-center justify-content-sm-center justify-content-md-center">
            <button class="btn btn-primary d-md-flex" type="submit">
              Sign Up
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- Button trigger modal -->
    <button id="onModal" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
      Launch demo modal
    </button>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button id="offModalX" type="button" class="close offModal" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            ...
          </div>
          <div class="modal-footer">
            <button id="offModal" type="button" class="btn btn-secondary offModal" data-dismiss="modal">
              Close
            </button>
            <button id="saveChanges" type="button" class="btn btn-primary">
              Save changes
            </button>
          </div>
        </div>
      </div>
    </div>
    <script>
      document
        .getElementById('onModal')
        .addEventListener('click', () => {
          console.log('onModal');
          history.pushState({}, document.title, 'http://localhost:4000/p/content_id',);
        });
      document
        .getElementById('offModalX')
        .addEventListener('click', () => {
          history.replaceState({}, document.title, 'http://localhost:4000/users/signup',);
          //window.history.go(-1);
          //history.forward();
        });
      document
        .getElementById('offModal')
        .addEventListener('click', () => {
          history.replaceState({}, document.title, 'http://localhost:4000/users/signup',);
          //window.history.go(-1);
        });
      document
        .getElementById('saveChanges')
        .addEventListener('focus', () => {
          console.log('focus');
          history.replaceState({}, document.title, 'http://localhost:4000/p/content_id',);
          //window.history.go(-1);
        });
      document
        .getElementById('exampleModal')
        .addEventListener('blur', () => {
          console.log('blur');
          history.replaceState({}, document.title, 'http://localhost:4000/users/signup',);
          //window.history.go(-1);
        });
    </script>
  </main>
{% endblock main %}